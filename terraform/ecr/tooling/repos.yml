default_read_template: &all_write_template
  ecr_repo_tag_mutability: "MUTABLE"
  tags:
    gitlab_alpha_build-pool: "write"
    gitlab_bravo_build-pool: "write"
    gitlab_charlie_build-pool: "write"
    gitlab_alpha_test-pool: "read"
    gitlab_bravo_test-pool: "read"
    gitlab_charlie_test-pool: "read"

# If you add an existing repo, you may need to import the state, e.g.
# tf-deploy ecr/tooling import 'module.repos["gitlab-qa"].aws_ecr_repository.ecr_repo' gitlab-qa

repos:
  alpha:
    name: "alpha/base"
    <<: *all_write_template
  alpine_git:
    name: "alpine/git"
    <<: *all_write_template
  fluent-bit:
    name: "amazon/aws-for-fluent-bit"
    <<: *all_write_template
  gitaly:
    name: "gitlab-org/build/cng/gitaly"
    <<: *all_write_template
  gitlabdemo:
    name: "gitlabdemo"
    <<: *all_write_template
  golang:
    name: "ecr-public/docker/library/golang"
    <<: *all_write_template
  idp_ci:
    name: "idp/ci"
    <<: *all_write_template
  env_test:
    name: "cd/env_test"
    <<: *all_write_template
  env_deploy:
    name: "cd/env_deploy"
    <<: *all_write_template
  env_stop:
    name: "cd/env_stop"
    <<: *all_write_template
  gitlab_test:
    name: "cd/gitlab_test"
    <<: *all_write_template
  gitlab_deploy:
    name: "cd/gitlab_deploy"
    <<: *all_write_template
  tspencertest:
    name: "tspencertest"
    <<: *all_write_template
  gitlab-qa:
    name: "gitlab-qa"
    <<: *all_write_template
  alpine:
    name: "ecr-public/docker/library/alpine"
    <<: *all_write_template
  ruby-node-yarn-chrome-chromedriver:
    name: "ruby-node-yarn-chrome-chromedriver"
    <<: *all_write_template
  nginx:
    name: "ecr-public/nginx/nginx"
    <<: *all_write_template
