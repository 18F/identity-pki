default_read_template: &all_write_template
  ecr_repo_tag_mutability: "MUTABLE"
  tags:
    gitlab_production_build-pool: "write"
    gitlab_production_test-pool: "read"

# If you add an existing repo, you may need to import the state, e.g.
# tf-deploy ecr/tooling import 'module.repos["gitlab-qa"].aws_ecr_repository.ecr_repo' gitlab-qa
    
repos:
  alpine:
    name: "ecr-public/docker/library/alpine"
    <<: *all_write_template
  idp_ci:
    name: "idp/ci"
    <<: *all_write_template
  env_test:
    name: "cd/env_test"
    <<: *all_write_template
  env_deploy:
    name: "cd/env_deploy"
    <<: *all_write_template
  env_stop:
    name: "cd/env_stop"
    <<: *all_write_template
  gitlab_test:
    name: "cd/gitlab_test"
    <<: *all_write_template
  gitlab_deploy:
    name: "cd/gitlab_deploy"
    <<: *all_write_template
  golang:
    name: "ecr-public/docker/library/golang"
    <<: *all_write_template
  ruby:
    name: "ecr-public/docker/library/ruby"
    <<: *all_write_template
  terraform_plan:
    name: "cd/terraform_plan"
    <<: *all_write_template
  terraform_apply:
    name: "cd/terraform_apply"
    <<: *all_write_template